#SPDX-License-Identifier: MIT-0
[defaults]
# Disable host key checking (like Kubespray)
host_key_checking = False

# SSH connection settings
timeout = 30
ssh_args = -o ControlMaster=auto -o ControlPersist=30m -o ConnectionAttempts=100 -o UserKnownHostsFile=/dev/null

# Performance optimizations
forks = 5
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_fact_cache
fact_caching_timeout = 3600

# Retry settings
retry_files_enabled = False

# Display settings
stdout_callback = yaml
callbacks_enabled = profile_tasks, timer
display_skipped_hosts = False
deprecation_warnings = False

# Privilege escalation
become = True
become_method = sudo
become_ask_pass = False

[inventory]
enable_plugins = ini, yaml, host_list

[ssh_connection]
# SSH pipelining for better performance
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=30m -o ConnectionAttempts=100 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path = /tmp/ansible-ssh-%%h-%%p-%%r

# Connection timeout
timeout = 30

